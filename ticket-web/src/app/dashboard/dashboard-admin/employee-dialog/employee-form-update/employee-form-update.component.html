<form class="employee-form" (ngSubmit)="saveChanges()">
  <button type="button" class="close-btn" mat-icon-button (click)="closeTab()">
    <mat-icon>close</mat-icon>
  </button>

  <div class="form-group">
    <label for="name">Nombre:</label>
    <input type="text" id="name" [(ngModel)]="name" name="name" required />
  </div>
  <div class="form-group">
    <label for="department">Departamento:</label>
    <select id="department" [(ngModel)]="department_id" name="departmentId" required>
      <option value="" disabled selected>Selecciona un departamento</option>
      <option *ngFor="let department of departments" [value]="department.departmentId">{{ department.departmentName }}</option>
    </select>
  </div>
  <div class="form-group">
    <label for="password">Contraseña:</label>
    <div class="password-wrapper">
      <input
        [type]="showPassword ? 'text' : 'password'"
        id="password"
        [(ngModel)]="password"
        name="password"
        required
      />
      <button type="button" mat-icon-button class="password-toggle-btn" (click)="togglePasswordVisibility()">
        <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
    </div>
  </div>

  <div class="form-group">
    <label for="confirmPassword">Confirmar Contraseña:</label>
    <div class="password-wrapper">
      <input
        [type]="showConfirmPassword ? 'text' : 'password'"
        id="confirmPassword"
        [(ngModel)]="confirmPassword"
        name="confirmPassword"
        required
      />
      <button type="button" mat-icon-button class="password-toggle-btn" (click)="toggleConfirmPasswordVisibility()">
        <mat-icon>{{ showConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
    </div>
  </div>

  <div *ngIf="password && confirmPassword && password !== confirmPassword" class="error-message">
    Las contraseñas no coinciden.
  </div>

  <div class="form-group">
    <label for="rol">Rol:</label>
    <select id="rol" [(ngModel)]="rol" name="rol" required>
      <option value="admin">Administrador</option>
      <option value="tec">Técnico</option>
      <option value="responsable">Responsable</option>
    </select>
  </div>

  <div class="form-group">
    <label for="isActive">Activo:</label>
    <input type="checkbox" id="isActive" [(ngModel)]="isActive" name="isActive" />
  </div>

  <button type="submit" class="submit-btn" [disabled]="password !== confirmPassword">Actualizar</button>
</form>
